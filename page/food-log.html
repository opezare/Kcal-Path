<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KcalPath - บันทึกอาหาร</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="navbar">
        <div class="logo">
            <span class="logo-text">KcalPath</span>
        </div>
        <nav class="main-nav">
            <a href="index.html" class="nav-item">หน้าแรก</a>
            <a href="food-log.html" class="nav-item active">บันทึกอาหาร</a>
            <a href="stats.html" class="nav-item">สถิติ</a>
            <a href="#" class="nav-item">ตั้งค่า</a>
        </nav>
        <div class="nav-actions">
            <a href="#" class="btn btn-primary">เข้าสู่ระบบ</a>
        </div>
    </header>

    <main class="main-content page-content">
        <h1 class="page-header-title">บันทึกอาหารประจำวัน</h1>

        <section class="food-log-details-section">
            <div class="card food-summary-card">
                <h2 class="card-title">มื้ออาหารวันนี้</h2>
                <div class="meal-list">
                    <div class="meal-item">
                        <h3>มื้อเช้า <span class="meal-kcal">(444 kcal)</span></h3>
                        <p>ข้าวอกไก่ต้ม, ไข่ต้ม</p>
                        <p class="meal-nutrients">โปรตีน 40g | ไขมัน 9.3g | คาร์บ 45g</p>
                    </div>
                    <div class="meal-item">
                        <h3>มื้อเที่ยง <span class="meal-kcal">(250 kcal)</span></h3>
                        <p>แกงจืดเต้าหู้หมูสับ</p>
                        <p class="meal-nutrients">โปรตีน 20g | ไขมัน 10g | คาร์บ 15g</p>
                    </div>
                </div>
                <button class="btn btn-cta add-food-button">เพิ่มรายการอาหารใหม่</button>
            </div>

            <div class="card nutrition-breakdown-card">
                <h2 class="card-title">ภาพรวมสารอาหาร</h2>
                <table>
                    <thead>
                        <tr>
                            <th>สารอาหาร</th>
                            <th>ได้รับ</th>
                            <th>เป้าหมาย</th>
                            <th>คงเหลือ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>พลังงาน</td>
                            <td id="log-total-kcal">694 kcal</td>
                            <td>1900 kcal</td>
                            <td>1206 kcal</td>
                        </tr>
                        <tr>
                            <td>โปรตีน</td>
                            <td id="log-total-protein">60 g</td>
                            <td>85 g</td>
                            <td class="warning-text">25 g</td>
                        </tr>
                        <tr>
                            <td>ไขมัน</td>
                            <td id="log-total-fat">19.3 g</td>
                            <td>65 g</td>
                            <td>45.7 g</td>
                        </tr>
                        <tr>
                            <td>คาร์โบไฮเดรต</td>
                            <td id="log-total-carb">60 g</td>
                            <td>220 g</td>
                            <td>160 g</td>
                        </tr>
                    </tbody>
                </table>
                <div class="advice-box">
                    <p class="advice-message" id="food-log-protein-advice">คุณยังต้องการโปรตีนอีก 25g เพื่อให้ถึงเป้าหมาย!</p>
                    <p class="advice-message" id="food-log-fat-status">วันนี้ปริมาณไขมันของคุณยังอยู่ในเกณฑ์ดี</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const meals = [
                { name: 'ข้าวอกไก่ต้ม + ไข่ต้ม', kcal: 444, protein: 40, fat: 9.3, carb: 45, sodium: 1500 },
                { name: 'แกงจืดเต้าหู้หมูสับ', kcal: 250, protein: 20, fat: 10, carb: 15, sodium: 300 }
            ];

            const goals = {
                calories: 1900,
                protein: 85,
                fat: 65,
                carb: 220,
                sodium: 2300
            };

            let totalKcal = meals.reduce((sum, meal) => sum + meal.kcal, 0);
            let totalProtein = meals.reduce((sum, meal) => sum + meal.protein, 0);
            let totalFat = meals.reduce((sum, meal) => sum + meal.fat, 0);
            let totalCarb = meals.reduce((sum, meal) => sum + meal.carb, 0);
            
            document.getElementById('log-total-kcal').textContent = `${totalKcal} kcal`;
            document.getElementById('log-total-protein').textContent = `${totalProtein} g`;
            document.getElementById('log-total-fat').textContent = `${totalFat} g`;
            document.getElementById('log-total-carb').textContent = `${totalCarb} g`;

            const remainingProtein = goals.protein - totalProtein;
            if (remainingProtein > 0) {
                document.getElementById('food-log-protein-advice').textContent = `คุณยังต้องการโปรตีนอีก ${remainingProtein}g เพื่อให้ถึงเป้าหมาย!`;
            } else {
                document.getElementById('food-log-protein-advice').textContent = 'คุณได้รับโปรตีนถึงเป้าหมายแล้ว!';
                document.getElementById('food-log-protein-advice').style.color = 'var(--primary-green)';
            }
            
            const fatRatio = (totalFat / goals.fat) * 100;
            if (fatRatio >= 90) {
                document.getElementById('food-log-fat-status').textContent = 'ระวัง! ไขมันใกล้ถึงขีดจำกัดแล้ว';
                document.getElementById('food-log-fat-status').style.color = 'var(--brown)';
            } else {
                document.getElementById('food-log-fat-status').textContent = 'วันนี้ปริมาณไขมันของคุณยังอยู่ในเกณฑ์ดี';
                document.getElementById('food-log-fat-status').style.color = 'var(--dark-green)';
            }
        });
    </script>
</body>
</html>